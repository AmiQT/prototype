name: Keep Backend Alive

on:
  schedule:
    - cron: '*/10 * * * *' # Jalan setiap 10 minit
  workflow_dispatch: # Membolehkan run secara manual dari GitHub tab Actions

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Backend
        run: |
          URL="https://prototype-348e.onrender.com/health"
          echo "Pinging $URL..."
          status_code=$(curl -o /dev/null -s -w "%{http_code}\n" $URL)
          echo "Response status code: $status_code"
          if [ "$status_code" -ne 200 ]; then
            echo "Warning: Backend might be cold or down (Status: $status_code)"
          else
            echo "Success: Backend is awake!"
          fi
